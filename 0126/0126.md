# 我靠
```objectivec
终于来到恶心的动画部分🤐
```

# CALayer
* 通过操作CALayer对象，可以很方便地调整UIView的一些外观属性

> //设置阴影的颜色
    self.imageV.layer.shadowColor = [UIColor blueColor].CGColor;
    //设置阴影的不透明度
    self.imageV.layer.shadowOpacity = 1;
    self.imageV.layer.shadowOffset = CGSizeMake(20, 20);
    //设置阴影的模糊的半径
    self.imageV.layer.shadowRadius = 5;
>    //边框宽度,往里边走的.
    self.imageV.layer.borderWidth = 2;
    self.imageV.layer.borderColor = [UIColor greenColor].CGColor;
>    //设置圆角
    self.imageV.layer.cornerRadius = 50;
    //UIImage是存放在layer的contents里面的,不是直接作用在layer的,操作layer并不会影响它,mask大小和根层一样,操作mask可以裁剪
    //把超过根层以外的东西都给裁剪掉(UIView自带的层,我们称它是根层)
    self.imageV.layer.masksToBounds = YES;
>    NSLog(@"%@",self.imageV.layer.contents);

## CATransform3D
* lay的形变属性 layer.transform(CATransform3D), 和view.transform(CGAffineTransform)不同

```objectivec
-(void)touchesBegan:(NSSet<UITouch *> *)touches withEvent:(UIEvent *)event {
    
    //3D效果
    [UIView animateWithDuration:0.5 animations:^{
        //x y z
//        self.imageV.layer.transform = CATransform3DMakeRotation(M_PI, 0.3, 1, 0);
        
        //把结构体转成对象
//        NSValue *value = [NSValue valueWithCATransform3D:CATransform3DMakeRotation(M_PI, 0.3, 1, 0)];
//        [self.imageV.layer setValue:value forKeyPath:@"transform"];
        
        //通过KVC直接设置形变,一般是做快速旋转,平移,缩放
        [self.imageV.layer setValue:@(100) forKeyPath:@"transform.translation.x"];
    }];
}
```