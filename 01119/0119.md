### 沙盒

# 沙盒目录说明

* 应用程序包：(上图中的Layer)包含了所有的资源文件和可执行文件

* Documents：保存应用运行时生成的需要持久化的数据，iTunes同步设备时会备份该目录。例如，游戏应用可将游戏存档保存在该目录

* tmp：保存应用运行时所需的临时数据，使用完毕后再将相应的文件从该目录删除。应用没有运行时，系统也可能会清除该目录下的文件。iTunes同步设备时不会备份该目录

* Library/Caches：保存应用运行时生成的需要持久化的数据，iTunes同步设备时不会备份该目录。一般存储体积大、不需要备份的非重要数据

* Library/Preference：保存应用的所有偏好设置，iOS的Settings(设置)应用会在该目录中查找应用的设置信息。iTunes同步设备时会备份该目录

# 沙盒访问和读取

1.po NSString *home = NSHomeDirectory()可打印应用沙盒路径

2.通用做法,搜索
```objectivec
//搜索目录,搜索返回,是否展开
    NSString *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0];//iOS必须展开路径
    NSLog(@"%@",path);
    // 自动加/
    NSString *filepath = [path stringByAppendingPathComponent:@"dataArr.plist"];
//    [dataArr writeToFile:[path stringByAppendingString:@"data.plist"] atomically:YES];
    [dataArr writeToFile:filepath atomically:YES];
    
//字典存储一样道理,但是存在plist的key只能为字符串;

//读取
NSDictionary *dict = [NSDictionary dictionaryWithContentsOfFile:filepath1];
NSArray *array = [NSArray arrayWithContentsOfFile:filepath];
```


> 一个软件 SimPholders工具直接进入沙盒

